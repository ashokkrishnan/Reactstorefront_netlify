{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { memo, useState } from 'react';\nimport Link from 'react-storefront/link/Link';\nimport { Vbox } from 'react-storefront/Box';\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport Rating from 'react-storefront/Rating';\nimport ForwardThumbnail from 'react-storefront/ForwardThumbnail';\nimport AmpImage from 'react-storefront-amp/AmpImage';\nimport { Track } from 'react-storefront-analytics';\nimport clsx from 'clsx';\nimport ProductOptionSelector from 'react-storefront-amp/option/AmpProductOptionSelector';\nimport DataBindingProvider from 'react-storefront-amp/bind/DataBindingProvider';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    padding: `${theme.spacing(2)}px 0`\n  },\n  thumbnail: {\n    marginBottom: theme.spacing(1)\n  },\n  link: {\n    textDecoration: 'none',\n    color: 'inherit'\n  },\n  price: {\n    marginTop: '5px'\n  },\n  reviews: {\n    marginTop: '5px'\n  },\n  reviewCount: {\n    marginLeft: '2px'\n  },\n  info: {\n    margin: '0'\n  }\n}));\n\nfunction ProductItem({\n  product,\n  index,\n  classes,\n  className,\n  colorSelector\n}) {\n  classes = useStyles({\n    classes\n  });\n  const {\n    0: store,\n    1: updateStore\n  } = useState(product);\n  return /*#__PURE__*/_jsx(DataBindingProvider, {\n    id: `p${product.id}`,\n    store: store,\n    updateStore: updateStore,\n    root: null,\n    children: /*#__PURE__*/_jsx(\"div\", {\n      id: `item-${index}`,\n      className: clsx(className, classes.root),\n      children: /*#__PURE__*/_jsxs(Vbox, {\n        alignItems: \"stretch\",\n        children: [/*#__PURE__*/_jsx(ForwardThumbnail, {\n          children: /*#__PURE__*/_jsx(Track, {\n            event: {\n              onClick: 'productClicked'\n            },\n            product: product,\n            children: /*#__PURE__*/_jsx(Link, {\n              as: product.url,\n              href: \"/p/[productId]\",\n              className: classes.link,\n              prefetch: \"visible\",\n              pageData: {\n                product,\n                color: store.color\n              },\n              children: /*#__PURE__*/_jsx(\"a\", {\n                children: /*#__PURE__*/_jsx(AmpImage, {\n                  className: classes.thumbnail,\n                  bind: {\n                    src: ['color.media.thumbnail.src', 'thumbnail.src'],\n                    alt: ['color.media.thumbnail.alt', 'thumbnail.alt']\n                  },\n                  optimize: {\n                    width: 200\n                  },\n                  lazy: index >= 4 && index < 20 ? 'ssr' : false,\n                  aspectRatio: 1\n                })\n              })\n            })\n          })\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: classes.info,\n          children: [/*#__PURE__*/_jsx(Typography, {\n            variant: \"subtitle1\",\n            className: classes.name,\n            children: product.name\n          }), colorSelector && /*#__PURE__*/_jsx(ProductOptionSelector, {\n            bind: {\n              value: 'color',\n              options: 'colors'\n            },\n            optionProps: {\n              size: 'small',\n              showLabel: false\n            }\n          }), /*#__PURE__*/_jsx(Rating, {\n            product: product,\n            className: classes.rating\n          }), /*#__PURE__*/_jsx(Typography, {\n            className: classes.price,\n            children: product.price\n          })]\n        })]\n      })\n    })\n  });\n}\n\nProductItem.defaultProps = {\n  colorSelector: true\n};\nexport default /*#__PURE__*/memo(ProductItem);","map":null,"metadata":{},"sourceType":"module"}