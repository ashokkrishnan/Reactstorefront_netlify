{"version":3,"sources":["../../src/plp/AmpSortButton.js"],"names":["AmpSortButton","props","router","query","amp","ampUrl","asPath","split","qs","stringify","openSort","undefined","propTypes","SortButton","defaultProps"],"mappings":";;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;;;;;AAEe,SAASA,aAAT,CAAuBC,KAAvB,EAA8B;AAC3C,MAAMC,MAAM,GAAG,wBAAf;AAD2C,sBAEjBA,MAAM,CAACC,KAFU;AAAA,MAEnCC,GAFmC,iBAEnCA,GAFmC;AAAA,MAE3BD,KAF2B;;AAG3C,MAAME,MAAM,GAAGH,MAAM,CAACI,MAAP,CAAcC,KAAd,CAAoB,GAApB,EAAyB,CAAzB,IAA8B,GAA9B,GAAoCC,eAAGC,SAAH,mBAAkBN,KAAlB;AAAyBO,IAAAA,QAAQ,EAAE;AAAnC,KAAnD;;AACA,SAAO,gCAAC,sBAAD,gCAAgBT,KAAhB;AAAuB,IAAA,IAAI,EAAE,qBAAWI,MAAX,GAAoBM;AAAjD,KAAP;AACD;;AAEDX,aAAa,CAACY,SAAd,GAA0BC,uBAAWD,SAArC;AAEAZ,aAAa,CAACc,YAAd,GAA6BD,uBAAWC,YAAxC","sourcesContent":["import React, { useState, useEffect, useContext } from 'react'\nimport SortButton from 'react-storefront/plp/SortButton'\nimport { useAmp } from 'next/amp'\nimport { useRouter } from 'next/router'\nimport qs from 'qs'\n\nexport default function AmpSortButton(props) {\n  const router = useRouter()\n  const { amp, ...query } = router.query\n  const ampUrl = router.asPath.split('?')[0] + '?' + qs.stringify({ ...query, openSort: 1 })\n  return <SortButton {...props} href={useAmp() ? ampUrl : undefined} />\n}\n\nAmpSortButton.propTypes = SortButton.propTypes\n\nAmpSortButton.defaultProps = SortButton.defaultProps\n"],"file":"AmpSortButton.js"}