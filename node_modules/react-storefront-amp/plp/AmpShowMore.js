"use strict";

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = AmpShowMore;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _react = _interopRequireWildcard(require("react"));

var _ShowMore = _interopRequireDefault(require("react-storefront/plp/ShowMore"));

var _SearchResultsContext = _interopRequireDefault(require("react-storefront/plp/SearchResultsContext"));

var _amp = require("next/amp");

var _router = require("next/router");

function AmpShowMore(props) {
  var router = (0, _router.useRouter)();

  var _useContext = (0, _react.useContext)(_SearchResultsContext["default"]),
      products = _useContext.pageData.products;

  var ampUrl = router.asPath.split('?')[0] + '?' + "more=true#item-".concat(products.length - 1);
  return _react["default"].createElement(_ShowMore["default"], (0, _extends2["default"])({}, props, {
    href: (0, _amp.useAmp)() ? ampUrl : undefined
  }));
}

AmpShowMore.propTypes = _ShowMore["default"].propTypes;
AmpShowMore.defaultProps = _ShowMore["default"].defaultProps;
//# sourceMappingURL=AmpShowMore.js.map