"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = batchPromises;

var _pQueue = _interopRequireDefault(require("p-queue"));

/**
 * @param {*} batchSize The number of promises to run concurrently
 * @param {*} thenArr
 * @param {*} fn
 */
function batchPromises(batchSize, thenArr, fn) {
  var queue = new _pQueue["default"]({
    concurrency: batchSize
  });
  return queue.addAll(thenArr.map(function (i) {
    return function () {
      return fn(i);
    };
  }));
}
//# sourceMappingURL=batchPromises.js.map