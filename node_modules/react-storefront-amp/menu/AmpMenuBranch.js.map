{"version":3,"sources":["../../src/menu/AmpMenuBranch.js"],"names":["styles","theme","root","borderBottom","useStyles","name","AmpMenuBranch","props","item","classes","onTapState","JSON","stringify","rsfMenuState","card","_rsfMenuCard","_rsfMenuItem","on","propTypes","MenuBranch","defaultProps"],"mappings":";;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AAEO,IAAMA,MAAM,GAAG,SAATA,MAAS,CAAAC,KAAK;AAAA,SAAK;AAC9BC,IAAAA,IAAI,EAAE;AACJ,mBAAa;AACXC,QAAAA,YAAY,EAAE;AADH;AADT;AADwB,GAAL;AAAA,CAApB;;;AAQP,IAAMC,SAAS,GAAG,4BAAWJ,MAAX,EAAmB;AAAEK,EAAAA,IAAI,EAAE;AAAR,CAAnB,CAAlB;AAEA;;;;;AAIe,SAASC,aAAT,CAAuBC,KAAvB,EAA8B;AAAA,MACnCC,IADmC,GAC1BD,KAD0B,CACnCC,IADmC;;AAAA,mBAEdJ,SAAS,CAACG,KAAD,CAFK;AAAA,MAEnCL,IAFmC,cAEnCA,IAFmC;AAAA,MAE1BO,OAF0B;;AAI3C,MAAMC,UAAU,GAAGC,IAAI,CAACC,SAAL,CAAe;AAChCC,IAAAA,YAAY;AACVC,MAAAA,IAAI,EAAEN,IAAI,CAACO;AADD,qBAEFP,IAAI,CAACO,YAFH,GAEoBP,IAAI,CAACQ,YAFzB;AADoB,GAAf,CAAnB;AAOA,SACE;AAAK,IAAA,SAAS,EAAEd;AAAhB,KACE,gCAAC,sBAAD,gCACMK,KADN;AAEE,IAAA,OAAO,EAAEE,OAFX;AAGE,IAAA,SAAS,EAAE;AAAEQ,MAAAA,EAAE,6BAAsBP,UAAtB;AAAJ;AAHb,KADF,CADF;AASD;;AAEDJ,aAAa,CAACY,SAAd,GAA0BC,uBAAWD,SAArC;AAEAZ,aAAa,CAACc,YAAd,GAA6BD,uBAAWC,YAAxC","sourcesContent":["import React from 'react'\nimport MenuBranch from 'react-storefront/menu/MenuBranch'\nimport makeStyles from '@material-ui/core/styles/makeStyles'\n\nexport const styles = theme => ({\n  root: {\n    '& section': {\n      borderBottom: 'none',\n    },\n  },\n})\n\nconst useStyles = makeStyles(styles, { name: 'RSFAmpMenuBranch' })\n\n/**\n * Overrides MenuBranch, adding a tap handler that updates the AMP state\n * to show the appropriate card.\n */\nexport default function AmpMenuBranch(props) {\n  const { item } = props\n  const { root, ...classes } = useStyles(props)\n\n  const onTapState = JSON.stringify({\n    rsfMenuState: {\n      card: item._rsfMenuCard,\n      [`card${item._rsfMenuCard}`]: item._rsfMenuItem,\n    },\n  })\n\n  return (\n    <div className={root}>\n      <MenuBranch\n        {...props}\n        classes={classes}\n        itemProps={{ on: `tap:AMP.setState(${onTapState})` }}\n      />\n    </div>\n  )\n}\n\nAmpMenuBranch.propTypes = MenuBranch.propTypes\n\nAmpMenuBranch.defaultProps = MenuBranch.defaultProps\n"],"file":"AmpMenuBranch.js"}