{"version":3,"sources":["../../src/search/AmpSearchField.js"],"names":["styles","theme","hidden","display","useStyles","name","AmpSearchField","props","amp","DataBindingContext","ampState","classes","undefined","AmpSearchSubmitButton","on","propTypes","SearchField","defaultProps"],"mappings":";;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEO,IAAMA,MAAM,GAAG,SAATA,MAAS,CAAAC,KAAK;AAAA,SAAK;AAC9BC,IAAAA,MAAM,EAAE;AACNC,MAAAA,OAAO,EAAE;AADH;AADsB,GAAL;AAAA,CAApB;;;AAMP,IAAMC,SAAS,GAAG,4BAAWJ,MAAX,EAAmB;AAAEK,EAAAA,IAAI,EAAE;AAAR,CAAnB,CAAlB;;AAEe,SAASC,cAAT,CAAwBC,KAAxB,EAA+B;AAC5C,MAAMC,GAAG,GAAG,kBAAZ;;AAD4C,oBAEvB,uBAAWC,8BAAX,CAFuB;AAAA,MAEpCC,QAFoC,eAEpCA,QAFoC;;AAG5C,MAAMC,OAAO,GAAGP,SAAS,CAACG,KAAD,CAAzB;AAEA,SACE,6CACE,gCAAC,uBAAD,gCACMA,KADN;AAEE,IAAA,OAAO,EAAEC,GAAG,GAAGG,OAAH,GAAaC,SAF3B;AAGE,IAAA,qBAAqB,EAAEC,iCAHzB;AAIE,IAAA,UAAU,EACRL,GAAG,GACC;AACE,mCAAsBE,QAAtB,gBADF;AAEEI,MAAAA,EAAE,2CAAoCJ,QAApC,uBAAyDA,QAAzD,mCAA0FA,QAA1F;AAFJ,KADD,GAKCE,SAVR;AAYE,IAAA,gBAAgB,EACdJ,GAAG,GACC;AACEM,MAAAA,EAAE,+BAAwBJ,QAAxB,qBADJ;AAEE,oCAAuBA,QAAvB;AAFF,KADD,GAKCE,SAlBR;AAoBE,IAAA,iBAAiB,EACfJ,GAAG,GACC;AACE,oCAAuBE,QAAvB;AADF,KADD,GAICE;AAzBR,KADF,CADF;AAgCD;;AAEDN,cAAc,CAACS,SAAf,GAA2BC,wBAAYD,SAAvC;AAEAT,cAAc,CAACW,YAAf,GAA8BD,wBAAYC,YAA1C","sourcesContent":["import React, { useContext } from 'react'\nimport SearchField from 'react-storefront/search/SearchField'\nimport DataBindingContext from '../bind/DataBindingContext'\nimport AmpSearchSubmitButton from './AmpSearchSubmitButton'\nimport makeStyles from '@material-ui/core/styles/makeStyles'\nimport { useAmp } from 'next/amp'\n\nexport const styles = theme => ({\n  hidden: {\n    display: 'block',\n  },\n})\n\nconst useStyles = makeStyles(styles, { name: 'RSFSearchField' })\n\nexport default function AmpSearchField(props) {\n  const amp = useAmp()\n  const { ampState } = useContext(DataBindingContext)\n  const classes = useStyles(props)\n\n  return (\n    <div>\n      <SearchField\n        {...props}\n        classes={amp ? classes : undefined}\n        SubmitButtonComponent={AmpSearchSubmitButton}\n        inputProps={\n          amp\n            ? {\n                'amp-bind': `value->${ampState}.text || ''`,\n                on: `input-debounced:AMP.setState({ ${ampState}: { text: ${ampState}.___moov_submitting ? ${ampState}.text : event.value } })`,\n              }\n            : undefined\n        }\n        clearButtonProps={\n          amp\n            ? {\n                on: `tap:AMP.setState({ ${ampState}: { text: '' }})`,\n                'amp-bind': `hidden->${ampState}.text.length == 0`,\n              }\n            : undefined\n        }\n        submitButtonProps={\n          amp\n            ? {\n                'amp-bind': `hidden->${ampState}.text.length == 0`,\n              }\n            : undefined\n        }\n      />\n    </div>\n  )\n}\n\nAmpSearchField.propTypes = SearchField.propTypes\n\nAmpSearchField.defaultProps = SearchField.defaultProps\n"],"file":"AmpSearchField.js"}