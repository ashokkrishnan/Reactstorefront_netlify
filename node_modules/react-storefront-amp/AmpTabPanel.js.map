{"version":3,"sources":["../src/AmpTabPanel.js"],"names":["styles","theme","ampSelector","outline","cursor","ampPanel","display","ampTab","padding","opacity","width","borderBottom","palette","secondary","main","ampTabLabelContainer","ampTabIndicator","useStyles","name","AmpTabPanel","classes","props","amp","selected","ampStateId","indicator","child","index","on","root","labelContainer","label","option","className","panels","propTypes","defaultProps"],"mappings":"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","sourcesContent":["import React from 'react'\nimport TabPanel from 'react-storefront/TabPanel'\nimport makeStyles from '@material-ui/core/styles/makeStyles'\nimport { useAmp } from 'next/amp'\nimport clsx from 'clsx'\nimport Head from 'next/head'\nimport AmpState from './AmpState'\n\nexport const styles = theme => ({\n  ampSelector: {\n    '& [option][selected]': {\n      outline: 'none',\n      cursor: 'inherit',\n    },\n  },\n  ampPanel: {\n    display: 'none',\n    '&[selected]': {\n      display: 'block',\n    },\n  },\n  ampTab: {\n    padding: 0,\n    opacity: 1,\n    '& .label': {\n      width: '100%',\n      borderBottom: `2px solid transparent`,\n      opacity: 0.7,\n      padding: '13px 12px 11px 12px',\n    },\n    '& .selected': {\n      borderBottom: `2px solid ${theme.palette.secondary.main}`,\n      opacity: 1,\n    },\n  },\n  ampTabLabelContainer: {\n    padding: 0,\n  },\n  ampTabIndicator: {\n    display: 'none',\n  },\n})\n\nconst useStyles = makeStyles(styles, { name: 'RSFAmpTabPanel' })\n\nexport default function AmpTabPanel({ classes, ...props }) {\n  classes = useStyles({ classes })\n  const amp = useAmp()\n\n  return (\n    <>\n      {amp && (\n        <Head>\n          <script\n            async\n            custom-element=\"amp-selector\"\n            src=\"https://cdn.ampproject.org/v0/amp-selector-0.1.js\"\n          />\n        </Head>\n      )}\n      <AmpState initialState={props.selected}>\n        {ampStateId => (\n          <TabPanel\n            {...props}\n            tabsProps={{\n              classes: {\n                indicator: clsx({ [classes.ampTabIndicator]: amp }),\n              },\n            }}\n            tabProps={({ child, index, selected }) => ({\n              on: `tap:AMP.setState({ ${ampStateId}: ${index} })`,\n              classes: {\n                root: clsx({ [classes.ampTab]: amp }),\n                labelContainer: clsx({ [classes.ampTabLabelContainer]: amp }),\n              },\n              label: (\n                <div\n                  className={clsx('label', { selected: selected === index })}\n                  amp-bind={`class->${ampStateId} == ${index} || (${index} == 0 && !${ampStateId}) ? 'label selected' : 'label'`}\n                >\n                  {child.props.label}\n                </div>\n              ),\n            })}\n            panelProps={({ index }) => {\n              return {\n                option: index,\n                selected: props.selected === index,\n                className: clsx({\n                  [classes.ampPanel]: amp,\n                }),\n              }\n            }}\n            renderPanels={panels => {\n              return amp ? (\n                <amp-selector\n                  role=\"tablist\"\n                  amp-bind={`selected->${ampStateId}`}\n                  class={classes.ampSelector}\n                >\n                  {panels}\n                </amp-selector>\n              ) : (\n                panels\n              )\n            }}\n          />\n        )}\n      </AmpState>\n    </>\n  )\n}\n\nAmpTabPanel.propTypes = {}\n\nAmpTabPanel.defaultProps = {\n  selected: 0,\n}\n"],"file":"AmpTabPanel.js"}