{"version":3,"sources":["../src/TrackAmp.js"],"names":["nextId","TrackAmp","children","event","data","eventToTrack","onClick","child","React","Children","only","id","toString","eventParams","selector","cloneElement","props","propTypes","PropTypes","object","isRequired","reset"],"mappings":";;;;;;;;;;;AAIA;;AACA;;AACA;;;;;;AAEA,IAAIA,MAAM,GAAG,CAAb;;AAEA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,OAA+B;AAAA,MAA5BC,QAA4B,QAA5BA,QAA4B;AAAA,MAAlBC,KAAkB,QAAlBA,KAAkB;AAAA,MAAXC,IAAW,QAAXA,IAAW;AAC9C,MAAMC,YAAY,GAAGF,KAAK,CAACG,OAA3B;;AACA,MAAMC,KAAK,GAAGL,QAAQ,IAAIM,kBAAMC,QAAN,CAAeC,IAAf,CAAoBR,QAApB,CAA1B;;AACA,MAAIG,YAAJ,EAAkB;AAChB,QAAMM,EAAE,GAAG,CAACX,MAAM,EAAP,EAAWY,QAAX,EAAX;AACA,iCAAa;AACXT,MAAAA,KAAK,EAAEE,YADI;AAEXQ,MAAAA,WAAW,EAAET,IAFF;AAGXU,MAAAA,QAAQ,2BAAmBH,EAAnB;AAHG,KAAb;AAKA,WAAOH,kBAAMO,YAAN,CAAmBR,KAAnB,oBAA+BA,KAAK,CAACS,KAArC;AAA4C,qBAAeL;AAA3D,OAAP;AACD,GARD,MAQO;AACL,WAAOJ,KAAP;AACD;AACF,CAdD;;AAgBAN,QAAQ,CAACgB,SAAT,GAAqB;AACnB;;;AAGAd,EAAAA,KAAK,EAAEe,sBAAUC,MAAV,CAAiBC;AAJL,CAArB;eAOenB,Q;;;AAER,IAAMoB,KAAK,GAAG,SAARA,KAAQ,GAAM;AACzBrB,EAAAA,MAAM,GAAG,CAAT;AACD,CAFM","sourcesContent":["/**\n * @license\n * Copyright Â© 2017-2019 Moov Corporation.  All rights reserved.\n */\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport { addAmpTarget } from './analytics'\n\nlet nextId = 0\n\nconst TrackAmp = ({ children, event, data }) => {\n  const eventToTrack = event.onClick\n  const child = children && React.Children.only(children)\n  if (eventToTrack) {\n    const id = (nextId++).toString()\n    addAmpTarget({\n      event: eventToTrack,\n      eventParams: data,\n      selector: `[data-amp-id=\"${id}\"]`,\n    })\n    return React.cloneElement(child, { ...child.props, 'data-amp-id': id })\n  } else {\n    return child\n  }\n}\n\nTrackAmp.propTypes = {\n  /**\n   * Object mapping triggers to events. Only the onClick event will be used.\n   */\n  event: PropTypes.object.isRequired,\n}\n\nexport default TrackAmp\n\nexport const reset = () => {\n  nextId = 0\n}\n"],"file":"TrackAmp.js"}