"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = FirebaseNavigationTrace;

var _react = require("react");

var _FirebaseContext = _interopRequireDefault(require("./FirebaseContext"));

var _router = require("next/router");

/**
 * Records client-side navigation time using Firebase Performance Monitoring.
 * This component should be used as a descendent of `FirebasePerformanceMonitoring`. It should be
 * placed in each page component to track when rendering has been completed.
 */
function FirebaseNavigationTrace() {
  var context = (0, _react.useContext)(_FirebaseContext["default"]);
  var router = (0, _router.useRouter)();
  (0, _react.useLayoutEffect)(function () {
    if (context && context.trace) {
      context.trace.stop();
      context.trace = null;
    }
  }, [router.asPath]);
  return null;
}
//# sourceMappingURL=FirebaseNavigationTrace.js.map